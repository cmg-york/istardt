<?xml version="1.0" encoding="UTF-8"?>
<iStarDT xmlns="https://example.org/istar-dt-x"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="https://example.org/istar-dt-x ../xsd/istar-rl-schema_v4.xsd">


<!--
*** H E A D E R ***
-->

<header title = ""
    author = ""
    source = ""
    lastUpdated = "Test">
</header>


<!--
*** O P T I O N S ***
-->
<options continuous = "false"
    infeasibleActionPenalty = "100">
</options>


<!--
*** A C T O R S ***
-->
<actors>
<actor name="default" description="">


<!--
*** G O A L S ***
-->
<goals>
   <goal name = "simulateDomain" description = "Simulate Domain" root = "true" terminal = "false" episodeLength = "1">
      <refinement type = "AND">
         <childGoal ref = "haveIStarDTXSpecPrepared"/>
         <childGoal ref = "haveDTGologSpecPrepared"/>
         <childGoal ref = "runSimulation"/>
      </refinement>
   </goal>
   <goal name = "haveIStarDTXSpecPrepared" description = "Have iStarDT-X Spec Prepared" root = "false" terminal = "false" episodeLength = "1">
      <refinement type = "OR">
         <childGoal ref = "haveSpecVisuallyPrepared"/>
         <childTask ref = "handcraftSpec"/>
      </refinement>
   </goal>
   <goal name = "haveSpecVisuallyPrepared" description = "Have Spec Visually Prepared" root = "false" terminal = "false" episodeLength = "1">
      <refinement type = "AND">
         <childGoal ref = "drawIStarDTVModel"/>
         <childGoal ref = "translateMxGraphToIStarDTX"/>
      </refinement>
   </goal>
   <goal name = "haveDTGologSpecPrepared" description = "Have DT-Golog Spec Prepared" root = "false" terminal = "false" episodeLength = "1">
      <refinement type = "AND">
         <childGoal ref = "translateToDTGolog"/>
         <childGoal ref = "visuallyInspectIStarDTXSpec"/>
      </refinement>
      <pre>
         <goalID>haveIStarDTXSpecPrepared</goalID>
      </pre>
   </goal>
</goals>


<!--
*** T A S K S ***
-->
<tasks>
   <task name = "drawIStarDTVModel" description = "Draw iStarDT-V Model">
      <effectGroup>
         <effect name = "drawingSuccessful_Eff" description = "Drawing Successful" satisfying = "true" probability = "0.95">
            <turnsTrue>drawingSuccessful</turnsTrue>
         </effect>
         <effect name = "drawingFailed_Eff" description = "Drawing Failed" satisfying = "false" probability = "0.05">
            <turnsTrue>drawingFailed</turnsTrue>
         </effect>
      </effectGroup>
   </task>
   <task name = "translateMxGraphToIStarDTX" description = "Translate mxGraph To iStarDT-X">
      <effectGroup>
         <effect name = "specSuccessfullyGenerated_Eff" description = "Spec Successfully Generated" satisfying = "true" probability = "0.95">
            <turnsTrue>specCreated</turnsTrue>
            <turnsTrue>happyModeler</turnsTrue>
            <turnsFalse>badMoodModeler</turnsFalse>
         </effect>
         <effect name = "runFailed_Eff" description = "Run Failed" satisfying = "false" probability = "0.05">
            <turnsTrue>runFailed</turnsTrue>
         </effect>
      </effectGroup>
      <pre>
         <taskID>drawIStarDTVModel</taskID>
      </pre>
   </task>
   <task name = "handcraftSpec" description = "Handcraft Spec">
      <effectGroup>
         <effect name = "handcraftingSuccessful_Eff" description = "Handcrafting Successful" satisfying = "true" probability = "0.8">
            <turnsTrue>handcraftingSuccessful</turnsTrue>
         </effect>
         <effect name = "handcraftingFailed_Eff" description = "Handcrafting Failed" satisfying = "false" probability = "0.2">
            <turnsTrue>handcraftingFailed</turnsTrue>
         </effect>
      </effectGroup>
   </task>
   <task name = "translateToDTGolog" description = "Translate to DT-Golog">
      <effectGroup>
         <effect name = "translationSuccessful_Eff" description = "Translation Successful" satisfying = "true" probability = "0.9">
            <turnsTrue>translationSuccessful</turnsTrue>
         <pre>
            <or><predicateID>handcraftingSuccessful</predicateID><predicateID>specCreated</predicateID></or>
         </pre>
         </effect>
         <effect name = "translationFailed_Eff" description = "Translation Failed" satisfying = "false" probability = "0.1">
            <turnsTrue>translationFailed</turnsTrue>
         </effect>
      </effectGroup>
      <pre>
         <taskID>visuallyInspectIStarDTXSpec</taskID>
      </pre>
   </task>
   <task name = "visuallyInspectIStarDTXSpec" description = "Visually Inspect iStarDT-X Spec">
      <effectGroup>
         <effect name = "inspectionSuccessful_Eff" description = "Inspection Successful" satisfying = "true" probability = "0.9">
            <turnsTrue>inspectionSuccessful</turnsTrue>
         </effect>
         <effect name = "inspectionFoundIssues_Eff" description = "Inspection Found Issues" satisfying = "false" probability = "0.1">
            <turnsTrue>inspectionFoundIssues</turnsTrue>
         </effect>
      </effectGroup>
   </task>
   <task name = "runSimulation" description = "Run Simulation">
      <effectGroup>
         <effect name = "simulationSuccessful_Eff" description = "Simulation Successful" satisfying = "true" probability = "0.9">
            <turnsTrue>simulationSuccessful</turnsTrue>
         </effect>
         <effect name = "simulationFailed_Eff" description = "Simulation Failed" satisfying = "false" probability = "0.1">
            <turnsTrue>simulationFailed</turnsTrue>
         </effect>
      </effectGroup>
      <pre>
         <and><predicateID>haveDTGologSpecPrepared</predicateID><predicateID>haveIStarDTXSpecPrepared</predicateID></and>
      </pre>
   </task>
</tasks>


<!--
*** Q U A L I T I E S ***
-->
<qualities>
   <quality name = "avoidLabor" description = "Avoid Labor" root = "false">
      <multiply><numConst>0.8</numConst><goalID>haveSpecVisuallyPrepared</goalID></multiply>
   </quality>
   <quality name = "becomeXMLWizard" description = "Become XML Wizard" root = "false">
      <multiply><numConst>0.7</numConst><taskID>handcraftSpec</taskID></multiply>
   </quality>
   <quality name = "overallQuality" description = "Overall Quality" root = "true">
      <add>
         <multiply><numConst>0.4</numConst><qualID>avoidLabor</qualID></multiply>
         <multiply><numConst>0.4</numConst><qualID>becomeXMLWizard</qualID></multiply>
         <multiply><numConst>0.2</numConst><qualID>modelerHappiness</qualID></multiply>
      </add>
   </quality>
   <quality name = "modelerHappiness" description = "Modeler Happiness" root = "false">
<add>
 <multiply>
  <numConst>0.2</numConst>
  <predicateID>happyModeler</predicateID>
 </multiply>
 <multiply>
  <numConst>0.7</numConst>
  <predicateID>veryHappyModeler</predicateID>
 </multiply>
</add>
   </quality>
</qualities>


<!--
*** CO N D I T I O N   B O X E S ***
-->
<condBoxes>
<condBox name = "haveDTGologSpecPreparedANDHaveIStarDTXSpecPrepared"><and><predicateID>haveDTGologSpecPrepared</predicateID><predicateID>haveIStarDTXSpecPrepared</predicateID></and></condBox>
<condBox name = "labeledPrecondition"><or><predicateID>handcraftingSuccessful</predicateID><predicateID>specCreated</predicateID></or></condBox>
</condBoxes>


<!--
*** I N I T I A L I Z AT I O N S ***
-->
<initializations>
      <initialization element = "drawingSuccessful">true</initialization>
      <initialization element = "becomeXMLWizard">0.8</initialization>
      <initialization element = "avoidLabor">-0.5</initialization>
</initializations>


<!--
*** C R O S S   R U N S  ***
-->
<crossRuns>
      <crossRun><qualID>overallQuality</qualID></crossRun>
</crossRuns>


<!--
*** E X P O R T S ***
-->
<exportedSet>
      <export continuous = "false"><goalID>haveIStarDTXSpecPrepared</goalID></export>
      <export continuous = "true" minVal = "-1" maxVal = "1"><qualID>overallQuality</qualID></export>
</exportedSet>


<!--
*** P R E D I C A T E S ***
-->
<predicates>
   <predicate description = "">inspectionFoundIssues</predicate>
   <predicate description = "">handcraftingFailed</predicate>
   <predicate description = "">translationSuccessful</predicate>
   <predicate description = "">specCreated</predicate>
   <predicate description = "">badMoodModeler</predicate>
   <predicate description = "">inspectionSuccessful</predicate>
   <predicate description = "">drawingSuccessful</predicate>
   <predicate description = "">runFailed</predicate>
   <predicate description = "">simulationSuccessful</predicate>
   <predicate description = "">handcraftingSuccessful</predicate>
   <predicate description = "">simulationFailed</predicate>
   <predicate description = "">translationFailed</predicate>
   <predicate description = "">happyModeler</predicate>
   <predicate description = "">drawingFailed</predicate>
</predicates>


<!--
*** V A R I A B L E S ***
-->
<variables>
</variables>

</actor>
</actors>
</iStarDT>